<!DOCTYPE html>
<html lang="ko">
	@@include('./include/head.html')
<body>
	<div id="app">
        <div class="app-inner">
			<!-- 220524 header 변경 -->
			@@include('./include/header.html', {
				headerKeyTitle: '연습대화',
				headerTitleText:'What do you do after work? test test test test test test test test test test test test st test test test test test test test test st test test test test test test'
			})
			
			<!-- 220512 .bg-gray 추가 -->
			<div class="content type-mission bg-gray">
				<div class="tab-area">
					<div class="tab-wrap">
						<span class="bg"></span>
						<button type="button" class="tab icon-speak on">말하기 모드</button>
						<button type="button" class="tab icon-listening">듣기 모드</button>
					</div>
				</div>
				
				<!-- Tab : 말하기 모드 -->
				<div class="tab-cont speaking-wrap on">
					<!-- 대화 시작 -->
					<!-- 대화 말풍선 기본 | 리사(default) -->
					<div class="dialog-box">
						<img src="../img/icons/profile_01.png" class="profile">
						<div class="text-wrap">
							Hey, Betty<br>I'm so full right now.
						</div>
					</div>
					<!-- //대화 말풍선 기본 -->
					<!-- 대화 학생 -->
					<div class="speaking-box" data-speakingBox="event01">
						<div class="speaking-item text-box">
							<div class="title-box">
								<div class="question">일 끝나고 뭐해1?</div>
								<!-- 0520 수정 정답 default 숨김처리 클래스 blank 추가 -->
								<div class="answer-wrap blank">
									<!-- 0520 수정 : 단어 확인 클래스 show -->
									<span>Me</span><span>too,</span><span>but</span><span>I</span><span>have</span><span class="show">room</span><span>for</span><span class="show">dessert.</span>
								</div>
								<div class="hint-wrap">
									<button type="button" class="btn-hint">
										힌트보기
									</button>
									<div class="hint-box">
										<div class="hint-item">What do</div>
										<div class="hint-item">work</div>
									</div>
								</div>
							</div>
							<div class="progress-bar" data-timer="5" data-progress="event01">
								<span class="bar" ></span>
							</div>
						</div>
						<div class="speaking-item control-box between">
							<!-- D : 툴팁 활성화 클래스 on -->
							<div class="balloon-text bottom on">AI가 목소리를 인식하면 물결이 움직여요</div>
							<!-- D : 활성화 클래스 active  -->
							<div class="ani-speaking" data-speakingAni="event01">
								<span class="item"></span>
								<span class="item"></span>
								<span class="item"></span>
								<span class="item"></span>
								<span class="item"></span>
								<span class="item"></span>
								<span class="item"></span>
							</div>
							<div class="btn-wrap">
								<button type="button" class="btn btn-reset" data-refresh="event01">새로고침</button>
								<button type="button" class="btn btn-stop" data-playing="event01">멈춤</button> <!-- D : 활성화 클래스 on -->
							</div>
						</div>
						<!-- favorit button -->
						<button type="button" class="btn-bookmark">북마크</button>
						<!-- skip button -->
						<button type="button" class="btn-skip">skip <i class="icon"></i></button>
					</div>
					<!-- //대화 학생 -->



					
					<!-- 대화 말풍선 기본 | 리사(default) -->
					<div class="dialog-box">
						<img src="../img/icons/profile_02.png" class="profile">
						<div class="text-wrap">
							Hey, Betty<br>I'm so full right now.
						</div>
					</div>
					<!-- //대화 말풍선 기본 -->
					<!-- 대화 말풍선 기본 | 리사(default) -->
					<div class="dialog-box on">
						<img src="../img/icons/profile_01.png" class="profile">
						<div class="text-wrap">
							Hey, Betty<br>I'm so full right now.
						</div>
					</div>
					<!-- //대화 말풍선 기본 -->

					<!-- 말풍선 기본 | 유저 -->
					<!-- <div class="dialog-box user">
						<div class="text-wrap">
							Hey, Betty<br>I'm so full right now.
						</div>
					</div> -->
					<!-- //말풍선 기본 -->
					
					<!-- 대화 학생 -->
					<div class="speaking-box active" data-speakingBox="event02">
						<div class="speaking-item text-box">
							<div class="title-box">
								<div class="question">일 끝나 고 뭐해2고 뭐해2고 뭐해2고 뭐해2고 뭐해2  뭐해2고 뭐해2고 뭐해?</div>
								<!-- 0520 수정 정답 default 숨김처리 클래스 blank 추가 -->
								<div class="answer-wrap">
									<!-- 0520 수정 : 단어 확인 클래스 show -->
									<span>Me</span><span>too,</span><span>but</span><span>I</span><span>have</span><span class="show">room</span><span>for</span><span class="show">dessert.</span><span>have</span><span class="show">room</span><span>for</span><span class="show">dessert.</span>
								</div>
								<div class="hint-wrap">
									<button type="button" class="btn-hint">
										힌트보기
									</button>
									<div class="hint-box">
										<div class="hint-item">What do</div>
										<div class="hint-item">work</div>
									</div>
								</div>
							</div>
							<!-- D: active 클래스 추가하면서 moveProgressBar() 함수실행 |  data-timer="" ->  0.1~ x -->
							<div class="progress-bar active" data-timer="5.8" data-progress="event02">
								<!-- D: progress style="widht:XX%" 값으로 컨트롤 -->
								<span class="bar"></span>
							</div>
						</div>
						<div class="speaking-item control-box between">
							<!-- D : 툴팁 활성화 클래스 on -->
							<div class="balloon-text bottom">AI가 목소리를 인식하면 물결이 움직여요</div>
							<!-- D : 활성화 클래스 active  -->
							<!-- 0519 수정 : 볼륨관련 pd1~pd10 클래스로 컨트롤 -->
							<!-- 220516 추가 : on 클래스 넣을시 스피킹 준비 상태 값  이후 active, data-volume-level 0~10 값에 따라 스피킹 웨이브 -->
							<div id="testChange" class="ani-speaking on active" data-speakingAni="event02" data-volume-level="0">
								<span class="item"></span>
								<span class="item"></span>
								<span class="item"></span>
								<span class="item"></span>
								<span class="item"></span>
								<span class="item"></span>
								<span class="item"></span>
							</div>
							<div class="btn-wrap">
								<button type="button" class="changeBt" style="color: #fff">10-->2</button>
								<button type="button" class="btn btn-reset" data-refresh="event02">새로고침</button>
								<button type="button" class="btn btn-stop" data-playing="event02">멈춤</button>  <!-- D : 활성화 클래스 on -->
							</div>
						</div>
						<!-- favorit button -->
						<button type="button" class="btn-bookmark">북마크</button>
						<!-- skip button -->
						<button type="button" class="btn-skip">skip <i class="icon"></i></button>
					</div>
					<!-- //대화 학생 -->

					<!-- 말풍선 기본 : ing -->
					<!-- 220516 : moveDialogPosition(), setContentHauto()  페이지 하단 스크립트 추가 -->
					<div class="dialog-box on ing">
						<img src="../img/icons/profile_01.png" class="profile">
						<div class="text-wrap">
							<div class="ing-text">
								<span></span>
								<span></span>
								<span></span>
							</div>
						</div>
					</div>
					<!-- //말풍선 : ing -->
				</div>
				<!-- //Tab : 말하기 모드 -->


				<!-- Tab : 듣기 모드 -->
				<div class="tab-cont listening-wrap">
					<!-- 대화 말풍선 기본 | 리사(default) -->
					<!-- D : 활성화 클래스 active -->
					<div class="dialog-box">
						<img src="../img/icons/profile_01.png" class="profile">
						<div class="text-wrap">
							It’s almost over.
						</div>
					</div>
					<!-- //대화 말풍선 기본 -->

					<!-- 대화 학생 -->
					<!-- D : 활성화 클래스 active -->
					<div class="listening-box active">
						<div class="text-wrap">
							<!-- D : 활성화 클래스 on &&  .before에서 on 클래스 삭제 -->
							<div class="before on">
								<!-- D : 말풍선 활성화 클래스 on -->
								<div class="balloon-text bottom on">영어로 생각해보세요</div>
								너는 퇴근  후에 뭐해?  후에?  후에에에 뭐해?
							</div>
							<!-- D : 활성화 클래스 on &&  .after에서 on 클래스 삭제 -->
							<div class="after">
								<span>What</span> <span>do</span> <span>you</span> <span>do</span> <span>after</span> <span>work?</span>
							</div>
						</div>
					</div>
					<!-- //대화 학생 -->

					<!-- 대화 말풍선 기본 | 리사(default) -->
					<!-- D : 활성화 클래스 active -->
					<div class="dialog-box on">
						<img src="../img/icons/profile_01.png" class="profile">
						<div class="text-wrap">
							It’s almost over.
						</div>
					</div>
					<!-- //대화 말풍선 기본 -->

					<!-- 대화 학생 -->
					<!-- D : 활성화 클래스 active -->
					<div class="listening-box active">
						<div class="text-wrap">
							<!-- D : 활성화 클래스 on &&  .before에서 on 클래스 삭제 -->
							<div class="before">
								<!-- D : 말풍선 활성화 클래스 on -->
								<div class="balloon-text bottom on">영어로 생각해보세요</div>
								너는 퇴근  후에 뭐해?  후에?  후에에에 뭐해?
							</div>
							<!-- D : 활성화 클래스 on &&  .after에서 on 클래스 삭제 -->
							<!-- 0519  추가 : 리스닝 두줄 bg 이벤트 관련 추가, data-delay 값에 맞춰서  active 클래스를 순차적으러 넣어주세요 -->
							<div class="after on">
								<span class="active" data-delay="0" data-duration="0.2">What</span>
								<span  data-delay="0.2" data-duration="0.2">do</span>
								<span  data-delay="0.4" data-duration="0.2">you</span>
								<span  data-delay="0.6" data-duration="0.2">do</span>
								<span  data-delay="0.8" data-duration="0.2">after</span>
								<span  data-delay="1" data-duration="0.2">work?</span>
								<span  data-delay="1.2" data-duration="0.2">What</span>
								<span  data-delay="1.4" data-duration="0.2">do</span>
								<span  data-delay="1.6" data-duration="0.2">you</span>
								<span  data-delay="1.8" data-duration="0.2">do</span>
								<span  data-delay="2" data-duration="0.2">work?</span>
							</div>
						</div>
					</div>
					<!-- //대화 학생 -->
				</div>
				<!-- //Tab : 듣기 모드 -->
		
				<!-- 바텀 시트 버튼 -->
				@@include('./include/bottomSheetBtn.html')  
			</div>

			<button type="button" class="btn-top">top</button>
			<!-- 바텀 시트 컨텐츠 -->
			@@include('./include/bottomSheetCont.html')  
        </div>
	</div>
	@@include('./include/footer_js.html')
</body>

<script>

	// moveDialogPosition  : 다이어로그 ing 클래스 찾아서 스크롤탑 해주는 이벤트, *페이지내 ing 클래스 한개만 사용
	const moveDialogPosition=()=>{
		const $ingDialog = document.querySelector('.dialog-box.ing');
		const ingDialogTop = $ingDialog.offsetTop;
		const $missionContent = document.querySelector('.content.type-mission');
		const $tabArea = document.querySelector('.tab-area');
		const $headerH = document.querySelector('.header.type-mission').offsetHeight; // 220525 변수 추가
		// 220525 변경  120 -> 138 -> ($headerH + 45)
		$missionContent.style.height = ingDialogTop - ($headerH + 73) + window.innerHeight + 'px';
		window.scrollTo({top:ingDialogTop - ($headerH + 73), behavior:"smooth"});

		// 0520 추가 : 이동시 탭버튼 확인 추가
		if ($tabArea){
			setTimeout(function(){
				$tabArea.classList.add('show')
			},300)
		}
	
	}
	// setContentHauto : moveDialogPosition() 이후 동적으로 밑에 내용이 더 생겨서 bg가 지워지는경우 setContentHauto() 이벤트로 높이값 100% 다시 설정
	const setContentHauto=()=>{
	const $missionContent = document.querySelector('.content.type-mission');
	$missionContent.style.height = '100%'
	}
</script>
</html>